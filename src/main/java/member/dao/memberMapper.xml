<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memberSQL">

	<!-- 개인정보수정 멤버정보 가져오기 -->
	<select id="getMember" parameterType="java.util.Map" resultType="member.bean.MemberDTO">
		select * from ohmygoal_member where id=#{id} and pwd=#{pwd}
	</select>

	<!-- 정보수정 -->
	<update id="update" parameterType="member.bean.MemberDTO">
		update ohmygoal_member set name=#{name}, 
							   <!-- id는 고정이므로 update에서 뺐음 -->
							   pwd=#{pwd},
							   email1=#{email1},
							   email2=#{email2},
							   <!-- tel1은 010으로 고정이므로 update에서 뺐음 -->
							   tel2=#{tel2},
							   tel3=#{tel3},
							   zipcode=#{zipcode},
							   addr1=#{addr1},
							   addr2=#{addr2},
							   logtime=sysdate,
							   where id=#{id}  
	</update>
	
	<!-- 비밀번호 확인 -->
	<select id="checkPwd" parameterType="String" resultType="String">
		select pwd from ohmygoal_member where id=#{value} <!-- 파라미터가 단일 String인 경우 -->
	</select>
</mapper>